mixin GTM(TAG)
  //Google Tag Manager
  | <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TRS3HP"
  |    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  | <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  | new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  | j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  | '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  | })(window,document,'script','dataLayer','#{TAG}');</script>
  //END Google Tag Manager

mixin GA (GA_ID)
  //- GA_ID = UA-XXXXX-X
  // Google Analytics: change UA-XXXXX-X to be your site's ID.
  | <script>
  | (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  | function(){(b[l].q=b[l].q || []).push(arguments)});b[l].l=+new Date;
  | e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  | e.src='//www.google-analytics.com/analytics.js';
  | r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  | ga('create','#{GA_ID}','auto');ga('send','pageview');
  | </script>
  // End Google Analytics

mixin FavIcon
  | <link rel="apple-touch-icon" href="assets/img/favicon/apple-touch-icon.png">
  | <link rel="apple-touch-icon" sizes="57x57" href="assets/img/favicon/apple-touch-icon-57x57.png">
  | <link rel="apple-touch-icon" sizes="60x60" href="assets/img/favicon/apple-touch-icon-60x60.png">
  | <link rel="apple-touch-icon" sizes="72x72" href="assets/img/favicon/apple-touch-icon-72x72.png">
  | <link rel="apple-touch-icon" sizes="76x76" href="assets/img/favicon/apple-touch-icon-76x76.png">
  | <link rel="apple-touch-icon" sizes="114x114" href="assets/img/favicon/apple-touch-icon-114x114.png">
  | <link rel="apple-touch-icon" sizes="120x120" href="assets/img/favicon/apple-touch-icon-120x120.png">
  | <link rel="apple-touch-icon" sizes="144x144" href="assets/img/favicon/apple-touch-icon-144x144.png">
  | <link rel="apple-touch-icon" sizes="152x152" href="assets/img/favicon/apple-touch-icon-152x152.png">
  | <link rel="icon" type="image/png" sizes="192x192" href="assets/img/favicon/android-chrome-192x192.png">
  | <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon/favicon-32x32.png">
  | <link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon/favicon-96x96.png">
  | <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon/favicon-16x16.png">
  | <link rel="manifest" href="assets/img/favicon/manifest.json">
  meta(name="msapplication-TileColor", content="#ffffff")
  meta(name="msapplication-TileImage", content="assets/img/favicon/mstile-144x144.png")
  meta(name="theme-color", content="#ffffff")
  meta(name="msapplication-config", content="assets/img/favicon/browserconfig.xml")

//svg
mixin use(name, sname)
  - var svg = '/assets/img/icons/sprite.svg'
  svg(role='img' class=sname)
    use(xlink:href=svg + '#' + name)
//кастомная кнопка
mixin btnCustom(buttontext)
  div.custom-block
    button.custom-block__btn #{buttontext}
//кнопка input type=file
mixin inpFile(inputText, inputName)
  div.inputFile-block
    label.inputFile-block__btn #{inputText}
      input(type='file' name=inputName)
//синяя кнопка Войти
mixin btnEnter(formid)
  div.enter-block
    button.enter-block__btn(type="submit" form= formid) Войти
//синяя кнопка Зарегистрироваться
mixin btnCreateAcc(formid)
  div.enter-block
    button.enter-block__btn(type="submit" form= formid) Создать аккаунт
//синяя кнопка Создать аккаунт
mixin btnRecreatePass(formid)
  div.enter-block
    button.enter-block__btn(type="submit" form= formid) Восстановить пароль
//синяя кнопка Создать аккаунт
mixin btnReg(formid)
  div.enter-block
    button.enter-block__btn(type="submit" form= formid) Зарегистрироваться
//синяя кнопка Сменить
mixin btnReset(formid)
  div.enter-block
    button.enter-block__btn.reset-block__btn(type="submit" form= formid) Сменить
//прозрачная кнопка Закрыть
mixin btnClose
  div.close-block
    button.close-block__btn Закрыть
//Кнопка Загрузить обложку
mixin btnLoad
  div.load-cover
    button.load-cover__btn Загрузить обложку
//прозрачная кнопка Показать еще
mixin btnShow
  div.show-block
    button.show-block__btn Показать еще
//выдвижная кнопка Редактировать
mixin btnEdit
  div.edit-block
    button.edit-block__btn
      +use('edit', 'edit-block__svg')
      span.edit-block__tx Редактировать
//выдвижная кнопка Выйти
mixin btnExit
  div.exit-block
    button.exit-block__btn
      a.exit-block__link(href="#")
      +use('off', 'exit-block__svg')
      span.exit-block__tx Выйти
//выдвижная кнопка Домой
mixin btnHome
  div.exit-block
    button.exit-block__btn.home-block__btn
      a.home-block__link(href="/")
      +use('home', 'exit-block__svg')
      span.exit-block__tx Домой
//выдвижная кнопка Добавить
mixin btnAdd
  div.add-block
    button.add-block__btn
      +use('add', 'add-block__svg')
      span.add-block__tx Добавить

//соц кнопка с параметрами
mixin socIcon(type, url)
  div.soc-block
    a.soc-block__a(class= 'soc-block__a_' + type  href= url )
      - var svg = '';
      - if ( type === 'vk' ) svg = 'soc_vk';
      - if ( type === 'fb' ) svg = 'soc_fb';
      - if ( type === 'tw' ) svg = 'soc_twitter';
      - if ( type === 'gp' ) svg = 'social_google';
      - if ( type === 'em' ) svg = 'soc_email';
        +use(svg, 'soc-block__svg')

//соц кнопка ВК
mixin socIconVk
  div.soc-block
    a.soc-block__a(href="#")
      +use('soc_vk','soc-block__svg')
//соц кнопка ФБ
mixin socIconFb
  div.soc-block
    a.soc-block__a(href="#")
      +use('soc_fb','soc-block__svg')
//соц кнопка Твиттер
mixin socIconTw
  div.soc-block
    a.soc-block__a(href="#")
      +use('soc_twitter','soc-block__svg')
//соц кнопка Google Plus
mixin socIconGp
  div.soc-block
    a.soc-block__a(href="#")
      +use('social_google','soc-block__svg')
//соц кнопка Почты
mixin socIconEm
  div.soc-block
    a.soc-block__a(href="#")
      +use('soc_email','soc-block__svg')
//красная кнопка Удалить
mixin btnDelete
  div.delete-block
    btn.delete-block__btn
      +use('delete','delete-block__svg')
      span.delete-block__tx Удалить
//красная кнопка Лайк
mixin btnLike
  div.like-block
    btn.like-block__btn
      +use('no_like','like-block__svg')
      span.like-block__tx 22
//маленькая красная кнопка отмены добавления фото
mixin btnCancel
  div.cancel-block
    btn.cancel-block__btn
      +use('close', 'cancel-block__svg')
//кнопка закрытия попапа
mixin btnCancelPop
  div.cancel-popup
    btn.cancel-popup__btn
      +use('close', 'cancel-popup__svg')

//две нижние кнопки форм добавления фото и альбома
mixin formMenu(formid)
  div.form-menu
    button.form-menu__submit(type='submit' form= formid) Сохранить
    button.form-menu__reset(type='reset' form= formid) Отменить

mixin formMenuReverse
  div.form-menu
    input.form-menu__reset(type='reset' id="reset" value='Отменить')
    input.form-menu__submit(type='submit' id="submit" value='Сохранить')

mixin albumTile(album)
  div.photo-album
    a.album-top(href="/albums/" + album._id)
      img.album-top__img(src= album._album_bg.thumb alt= album.name)
      div.album-info-wrapper
        div.album-info
          p.album-info__tx #{album.descr}
          span.album-info__count #{album._id} Фотографий
    div.album-bot
      div.album-menu
        +use('edit','album-menu__svg')
        a.album-menu__a(href="/albums/" + album._id) #{album.name}


mixin photoTileAlbum(photo)
  - console.log('Photo=',photo)
  div.a-photo-tile
    a.a-tile-top(href="#")
      +use('loupe','a-tile-top__svg')
      img.a-tile-top__img(src= photo.thumb alt= photo.name)
      div.top-mask
      div.a-tile-stats
        +use('comments','a-tile-stats__svg')
        span.a-tile-stats__span.a-tile-stats__span-comments #{photo.comments.comment_list.length}
        +use('like','a-tile-stats__svg')
        span.a-tile-stats__span.a-tile-stats__span-likes #{photo.likes.length}
    div.a-tile-bot
      div.a-tile-menu
        +use('edit','a-tile-menu__svg')
        a.a-tile-menu__a(href="#") #{photo.name}

mixin photoTile(photo)
  -var owner = photo._album_id._user_id;
  -var album = photo._album_id;

  div.photo-tile
    a.tile-top(href="#slide" id= photo._id )
      +use('loupe','tile-top__svg')
      img.tile-top__img(src= photo.thumb alt= photo.name)
      div.top-mask
    div.tile-mid
      div.tile-mid-wrapper
        a.tile-avatar(href="/users/" + owner._id)
          +use('more','tile-avatar__svg')
          img.tile-avatar__img(src= owner.userdata.ava_img alt= owner.userdata.firstName + " " + owner.userdata.lastName)
          div.tile-avatar-mask
        div.tile-desc
          div.desc-wrapper
            p.desc-wrapper__tx #{photo.descr}
          div.tile-stats
            +use('comments','tile-stats__svg')
            span.tile-stats__span.tile-stats__span-comments #{photo.comments.comment_list.length}
            +use('like','tile-stats__svg')
            span.tile-stats__span.tile-stats__span-likes #{photo.likes.length}
    div.tile-bot
      div.tile-bot-wrapper
        +use('album','tile-bot__svg')
        a.tile-bot__a(href="/albums/" + album._id ) #{album.name}

mixin footer(bg_img)
  - if(!bg_img) {bg_img='';}

  footer.f-w(style="background-image: url(" + bg_img + ")")
    div.f-mask
    div.f
      p.f__desc.
        Перед вами сервис, который поможет вам организовать свои
        фотографии в альбомы и поделиться ими со всем миром!
      a.f__a(href="#header")
        +use('top','f__svg')
      p.f__copyright.
        2016 | Создано командой профессионалов на продвинутом курсе
        по веб-разработке от LoftSchool