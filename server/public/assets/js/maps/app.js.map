{"version":3,"sources":["app.js","add_album.js","add_photo.js","custom-scroll.js","edit_album.js","edit_photo.js","edit_profile.js","flipper.js","parallax.js","slider.js","smooth_scroll.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["'use strict';\r\n(function() {\r\n\r\n\r\n})();\r\n","'use strict';\r\n\r\n\r\n$ ( function() {\r\n\r\n    var albumAdd = $('.add__album-wrap'),\r\n        albumAddCard = $('.add__album'),\r\n        AddAlbumBtn = $('.albums-controls .add-block__btn'),\r\n        closeBtn = $('.cancel-popup__btn'),\r\n        indexClick = 0;\r\n\r\n\r\n    AddAlbumBtn.on('click',( function(e) {\r\n        if (indexClick === 0) {\r\n            albumAdd.fadeIn(100);\r\n            albumAddCard.addClass('addAlbumSlideDown');\r\n            indexClick = 1;\r\n        }\r\n        else {\r\n            albumAdd.fadeOut(100);\r\n            albumAddCard.removeClass('addAlbumSlideDown');\r\n            indexClick = 0;\r\n        }\r\n        e.stopPropagation();\r\n    }));\r\n    closeBtn.on('click',function () {\r\n        albumAdd.fadeOut(100);\r\n        albumAddCard.removeClass('addAlbumSlideDown');\r\n    });\r\n\r\n    $(document).on('click', (function(e) {\r\n        if ($(e.target).closest(\".add__album\").length) return;\r\n        albumAdd.fadeOut(100);\r\n        albumAddCard.removeClass('addAlbumSlideDown');\r\n        indexClick = 0;\r\n        e.stopPropagation();\r\n    }));\r\n});\r\n","'use strict';\r\n\r\n\r\n$ ( function() {\r\n\r\n    var photoAdd = $('.add-photo-wrap'),\r\n        photoAddCard = $('.add-photo'),\r\n        AddPhotoBtn = $('.add-block__btn'),\r\n        closeBtn = $('.cancel-popup__btn'),\r\n        indexClick = 0;\r\n\r\n\r\n    AddPhotoBtn.on('click',( function(e) {\r\n        if (indexClick === 0) {\r\n            photoAdd.fadeIn(100);\r\n            photoAddCard.addClass('photoAddSlideDown');\r\n            indexClick = 1;\r\n        }\r\n        else {\r\n            photoAdd.fadeOut(100);\r\n            photoAddCard.removeClass('photoAddSlideDown');\r\n            indexClick = 0;\r\n        }\r\n        e.stopPropagation();\r\n    }));\r\n    closeBtn.on('click',function () {\r\n        photoAdd.fadeOut(100);\r\n        photoAddCard.removeClass('photoAddSlideDown');\r\n    });\r\n\r\n    $(document).on('click', (function(e) {\r\n        if ($(e.target).closest(\".add-photo\").length) return;\r\n        photoAdd.fadeOut(100);\r\n        photoAddCard.removeClass('photoAddSlideDown');\r\n        indexClick = 0;\r\n        e.stopPropagation();\r\n    }));\r\n});\r\n","'use strict';\r\n\r\n$(document).ready(function() {\r\n    $(\".field__itx\").niceScroll({\r\n        autohidemode: \"scroll\",\r\n        bouncescroll: true,\r\n        railoffset: true,\r\n        railpadding: { top: 10,bottom:10}\r\n    });\r\n});","$(function() {\r\n  if ( $('body').find('.a-h-w') ) {\r\n    var switcher = false;\r\n\r\n    if ( switcher === false ) {\r\n      $('.edit-block__btn').on('click', function () {\r\n        $('.a-h-cnt').animate({\r\n          top: 0\r\n        }, 300, function() {\r\n          switcher = true;\r\n        });\r\n      });\r\n    }\r\n\r\n    $(document).on('click', function (event) {\r\n      var target = $(event.target);\r\n\r\n      if ( switcher === true ) {\r\n        if ( target.closest('.a-h-cnt__form').length === 0 || target.is('#reset') ) {\r\n          $('.a-h-cnt').animate({\r\n            top: '-100%'\r\n          }, 300, function() {\r\n            switcher = false;\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n});","'use strict';\r\n\r\n\r\n$(function () {\r\n\r\n  var photo      = $('.photo-edit-wrap'),\r\n      photoCard  = $('.photo-edit'),\r\n      editPhoto  = $('.a-tile-menu__svg'),\r\n      closeBtn   = $('.cancel-popup__btn'),\r\n      editForm   = photoCard.find('form'),\r\n      indexClick = 0;\r\n\r\n  var photo_id = editForm.find('input[name=\"photo_id\"]');\r\n  var photo_name = editForm.find('input[name=\"photo_name\"]');\r\n  var photo_descr = editForm.find('textarea[name=\"photo_descr\"]');\r\n  var delete_confirm = editForm.find('input[name=\"confirmed\"]');\r\n\r\n  editPhoto.on('click', ( function (e) {\r\n    var photoTile = $(e.target).closest('.a-photo-tile');\r\n\r\n    if (indexClick === 0) {\r\n      photo.fadeIn(100);\r\n      photoCard.addClass('photoSlideDown');\r\n      indexClick = 1;\r\n\r\n      photo_id.val(photoTile.attr('id'));\r\n\r\n      if (window.loftogram) {\r\n        var dfdPhotoInfo = window.loftogram.modPhoto.getPhotoById(photo_id.val());\r\n        $.when(dfdPhotoInfo)\r\n        .then(\r\n            function (resPhotoInfo) {\r\n              var result = resPhotoInfo;\r\n\r\n              if (result.data.length) {\r\n                photo_name.val(result.data[0].name);\r\n                photo_descr.val(result.data[0].descr);\r\n              }\r\n              \r\n            },\r\n            function (resPhotoInfo) {\r\n              var result = resPhotoInfo.responseJSON;\r\n            }\r\n        );\r\n\r\n      }\r\n    }\r\n    else {\r\n      photo.fadeOut(100);\r\n      photoCard.removeClass('photoSlideDown');\r\n      indexClick = 0;\r\n    }\r\n    e.stopPropagation();\r\n  }));\r\n\r\n  closeBtn.on('click', function () {\r\n    photo.fadeOut(100);\r\n    photoCard.removeClass('photoSlideDown');\r\n  });\r\n\r\n  $(document).on('click', '.photo-edit button.delete-block__btn', function (e) {\r\n    delete_confirm.val(\"Y\");\r\n    editForm.submit();\r\n    delete_confirm.val(\"N\");\r\n    photo.fadeOut(100);\r\n    photoCard.removeClass('photoSlideDown');\r\n  });\r\n\r\n\r\n  $(document).on('click', (function (e) {\r\n    if ($(e.target).closest(\".photo-edit\").length) return;\r\n    photo.fadeOut(100);\r\n    photoCard.removeClass('photoSlideDown');\r\n    indexClick = 0;\r\n    e.stopPropagation();\r\n  }));\r\n});\r\n","'use strict';\r\n\r\n\r\n$ ( function() {\r\n\r\n    var profile = $('.edit-profile-wrap'),\r\n        profileCard = $('.edit-profile'),\r\n        editProfile = $('.m-controls .edit-block__btn'),\r\n        closeBtn = $('.cancel-popup__btn'),\r\n        indexClick = 0;\r\n\r\n\r\n    editProfile.on('click',( function(e) {\r\n        if (indexClick === 0) {\r\n            profile.fadeIn(100);\r\n            profileCard.addClass('profileSlideDown');\r\n            indexClick = 1;\r\n        }\r\n        else {\r\n            profile.fadeOut(100);\r\n            profileCard.removeClass('profileSlideDown');\r\n            indexClick = 0;\r\n        }\r\n        e.stopPropagation();\r\n    }));\r\n    closeBtn.on('click',function () {\r\n        profile.fadeOut(100);\r\n        profileCard.removeClass('profileSlideDown');\r\n    });\r\n    $(document).on('click', (function(e) {\r\n        if ($(e.target).closest(\".edit-profile\").length) return;\r\n        profile.fadeOut(100);\r\n        profileCard.removeClass('profileSlideDown');\r\n        indexClick = 0;\r\n        e.stopPropagation();\r\n    }));\r\n});\r\n","jQuery(document).ready(function(){\r\n  var switcher = false;\r\n\r\n  jQuery('#reg').on('click', function(event) {\r\n    jQuery('.flip-cnt-w').addClass('hover');\r\n    event.stopPropagation();\r\n  });\r\n\r\n  jQuery(document).on('click', function(event) {\r\n    var target = $(event.target);\r\n\r\n    if ( target.closest('.card').length === 0 || target.is('.card-a') ) {\r\n      jQuery('.flip-cnt-w').removeClass('hover');\r\n    }\r\n\r\n    if ( (target.closest('.card').length === 0 || target.is('.card-a')) && switcher === true) {\r\n      switcher = false;\r\n      jQuery('.pass-rec').addClass('hidden');\r\n      jQuery('.flip-cnt').removeClass('hidden');\r\n      event.stopPropagation();\r\n    }\r\n  });\r\n\r\n  jQuery('#pass').on('click', function(event) {\r\n    switcher = true;\r\n    jQuery('.pass-rec').removeClass('hidden');\r\n    jQuery('.flip-cnt').addClass('hidden');\r\n    event.stopPropagation();\r\n  });\r\n});","$(document).ready(function () {\r\n\r\n  var layer = $('.parallax').find('.parallax-layer'); // Выбираем все parallax__layer в объект\r\n\r\n  $(window).on('mousemove', function (e) { // Навешиваем событие перемещени мыши на window, первым аргументом в функцию-обработчик события отправляется ссылка на объект события\r\n    var mouse_dx = (e.pageX); // Узнаем положение мышки по X\r\n    var mouse_dy = (e.pageY); // Узнаем положение мышки по Y\r\n    // Т.к. мы делим экран на четыре части что бы в центре оказалась точка координат 0, то нам надо знать когда у нас будет -Х и +Х, -Y и +Y\r\n    var w = (window.innerWidth / 2) - mouse_dx; // Вычисляем для x перемещения\r\n    var h = (window.innerHeight / 2) - mouse_dy; // Вычисляем для y перемещения\r\n\r\n    layer.map(function (key, value) { // Проходимся по всем элементам объекта\r\n      var bottomPosition = ((window.innerHeight / 2) * (key / 400)); // Вычисляем на сколько нам надо опустить вниз наш слой что бы при перемещении по Y не видно было краев\r\n      var widthPosition = w * (key / 400); // Вычисляем коофицент смешения по X\r\n      var heightPosition = h * (key / 400); // Вычисляем коофицент смешения по Y\r\n      $(value).css({ // Выбираем элемент и добавляем css\r\n        'bottom': '-' + bottomPosition + 'px',  // Выставляем bottom\r\n        'transform': 'translate3d(' + widthPosition + 'px, ' + heightPosition + 'px, 0)', // Используем translate3d для более лучшего рендеринга на странице\r\n      });\r\n    });\r\n  });\r\n})","$(function() {\r\n  if ( $('body').find('.slider-item').length ) {\r\n    /*\r\n     *  Slider pop-up part\r\n     *\r\n     */\r\n    $(function() {\r\n      var switcher = false,\r\n        slideControls = $('.slide-controls'),\r\n        slideItem = $('.slider-item');\r\n\r\n      slideItem.css({\r\n        'max-height':'calc(100% - 50px)',\r\n        'overflow':'scroll'\r\n      });\r\n\r\n      //invokes slider\r\n      $(document).on('click', function (event) {\r\n        var target = $(event.target),\r\n          offset = $(window).scrollTop() + 25;\r\n\r\n        if (target.closest('.a-tile-top').length === 1 ||\r\n          target.closest('.tile-top').length === 1 || target.is('.a-tile-menu__a')) {\r\n\r\n          event.preventDefault();\r\n          window.onscroll = function () { window.scrollTo(0, offset - 25); };\r\n\r\n          slideControls.css({'left':'0'}).animate({\r\n            opacity: 1\r\n          }, 300);\r\n          $('.bg-mask').css('z-index','4').animate({\r\n            opacity: '1'\r\n          }, 300);\r\n          slideItem.css('z-index','5').animate({\r\n            top: offset + 'px',\r\n            opacity: '1'\r\n          }, 300);\r\n          slideItem.niceScroll({\r\n            zindex: 9999,\r\n            cursorcolor:\"#fff\",\r\n            cursoropacitymin:\".5\",\r\n            cursorwidth:\"10px\",\r\n            cursorborderradius:\"1px\",\r\n            // autohidemode: \"scroll\",\r\n            bouncescroll: true,\r\n            railoffset: true,\r\n            railpadding: {right: -10}\r\n          });\r\n        }\r\n      });\r\n\r\n      //fades slider\r\n      $(document).on('click', function (event) {\r\n        var target = $(event.target);\r\n\r\n        if ( target.is('.bg-mask') ) {\r\n          window.onscroll = null;\r\n\r\n          $('.bg-mask').animate({\r\n            opacity: '0'\r\n          }, 200, function() {\r\n            $(this).css('z-index','-1');\r\n          });\r\n\r\n          slideItem.animate({\r\n            opacity: '0'\r\n          }, 200, function() {\r\n            $(this).css({\r\n              'z-index': '-1',\r\n              'top': '-100%'\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      //controls appear & fade for better UX(UI) (no longer needed)\r\n      $(window).on('scroll', function() {\r\n        var cOffset = slideControls.offset().top,\r\n          sOffset = slideItem.offset().top,\r\n          controlsOffset = cOffset + slideControls.height() / 2,\r\n          slideOffset = sOffset + slideItem.height();\r\n\r\n        if ( (controlsOffset > slideOffset || controlsOffset < sOffset) && switcher === false ) {\r\n          switcher = true;\r\n\r\n          $(this).on('scroll', function (e) {\r\n            e.preventDefault();\r\n          });\r\n\r\n          slideControls.animate({\r\n            opacity: 0\r\n          }, 200, function() {\r\n            $(this).css({'left':'-200%'});\r\n          });\r\n        } else if ( (controlsOffset <= slideOffset && controlsOffset >= sOffset) && switcher === true ) {\r\n          switcher = false;\r\n\r\n          slideControls.css({'left':'0'}).animate({\r\n            opacity: 1\r\n          }, 200);\r\n        }\r\n      });\r\n    });\r\n\r\n    /*\r\n     *  Slider sliding part\r\n     *\r\n     */\r\n\r\n    $(function() {\r\n      var index = 0;\r\n\r\n      if ( $(document).find('.photo-tile').length > 0 ) {\r\n        var slides = $(document).find('.photo-tile');\r\n      } else if ( $(document).find('.a-photo-tile').length > 0 ) {\r\n        slides = $(document).find('.a-photo-tile');\r\n      }\r\n\r\n      for (var i = 0; i < slides.length; i++) {\r\n        slides[i].setAttribute( 'data-slide', i + 1 );\r\n      }\r\n\r\n      $(document).on('click', function (event) {\r\n        var target = $(event.target);\r\n\r\n        if (target.closest('.a-tile-top').length === 1 ||\r\n          target.closest('.tile-top').length === 1 || target.is('.a-tile-menu__a')) {\r\n\r\n          index = +target.closest('.photo-tile').attr('data-slide');\r\n\r\n          var src = slides[index - 1].querySelector('.tile-top__img').getAttribute('src');\r\n\r\n          $('.slider-top__img').attr('src', src);\r\n        }\r\n      });\r\n\r\n      $('.slide-controls__btn_right').on('click', function() {\r\n\r\n        $('.slider-item').animate({\r\n          opacity : 0\r\n        }, 300, function() {\r\n          if (slides[index]) {\r\n            index += 1;\r\n          } else { index = 1; }\r\n\r\n          var src = slides[index - 1].querySelector('.tile-top__img').getAttribute('src');\r\n\r\n          $('.slider-top__img').attr('src', src);\r\n\r\n          $(this).animate({\r\n            opacity : '1'\r\n          }, 300);\r\n        });\r\n      });\r\n\r\n      $('.slide-controls__btn_left').on('click', function() {\r\n\r\n        $('.slider-item').animate({\r\n          opacity : 0\r\n        }, 300, function() {\r\n          if (slides[index - 2]) {\r\n            index -= 1;\r\n          } else { index = slides.length; }\r\n\r\n          var src = slides[index - 1].querySelector('.tile-top__img').getAttribute('src');\r\n\r\n          $('.slider-top__img').attr('src', src);\r\n\r\n          $(this).animate({\r\n            opacity : '1'\r\n          }, 300);\r\n        });\r\n      });\r\n    });\r\n  }\r\n});","\r\n//smooth scroll (links href = elements id)\r\n$(function() {\r\n  $('a[href*=\"#\"]:not([href=\"#\"])').click(function() {\r\n\r\n    if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\r\n      var target = $(this.hash);\r\n      target = target.length ? target : $('[name=' + this.hash.slice(1) +']');\r\n      if (target.length) {\r\n        $('html, body').animate({\r\n          scrollTop: target.offset().top\r\n        }, 500);\r\n        return false;\r\n      }\r\n    }\r\n  });\r\n});"],"sourceRoot":"/source/"}